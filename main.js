(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e){var n=e.baseUrl,r=e.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._baseUrl=n,this._headers=r}var n,r;return n=t,(r=[{key:"_getJsonOrError",value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}},{key:"getUserInfo",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then(this._getJsonOrError)}},{key:"getInitialCards",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers}).then(this._getJsonOrError)}},{key:"addCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link})}).then(this._getJsonOrError)}},{key:"changeProfile",value:function(e){return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.about})}).then(this._getJsonOrError)}},{key:"changeAvatar",value:function(e){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.avatar})}).then(this._getJsonOrError)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e._id),{method:"DELETE",headers:this._headers}).then(this._getJsonOrError)}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t,n,r,o,i){var a=o.userId,u=i.handleDeleteCard;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t.name,this._link=t.link,this._id=a,this._ownerId=t.owner._id,this._cardSelector=n,this._openImage=r,this._handleDeleteCard=u}var t,r;return t=e,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".element").cloneNode(!0)}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._imageElement=this._element.querySelector(".element__image"),this._deleteButton=this._element.querySelector(".element__delete"),this._likeButton=this._element.querySelector(".element__like"),this._element.querySelector(".element__city").textContent=this._name,this._imageElement.src=this._link,this._imageElement.alt=this._name,this._id!==this._ownerId&&(this._deleteButton.style.display="none"),this._setEventListeners(),this._element}},{key:"_setEventListeners",value:function(){var e=this;this._likeButton.addEventListener("click",(function(){e._handleLikeClick()})),this._deleteButton.addEventListener("click",(function(){e._handleDeleteCard(e)})),this._imageElement.addEventListener("click",(function(){e._openImage(e._name,e._link)}))}},{key:"_handleLikeClick",value:function(){this._likeButton.classList.toggle("element__like_active")}},{key:"delete",value:function(){this._element.remove(),this._element=null}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._formElement=t,this._dataElement=n,this._inputList=Array.from(t.querySelectorAll(this._dataElement.inputSelector)),this._buttonElement=this._formElement.querySelector(this._dataElement.submitButtonSelector)}var t,n;return t=e,(n=[{key:"_showInputError",value:function(e,t){var n=this._formElement.querySelector("#".concat(e.id,"-error"));e.classList.add(this._dataElement.inputErrorClass),n.textContent=t,n.classList.add(this._dataElement.errorClass)}},{key:"_hideInputError",value:function(e){var t=this._formElement.querySelector("#".concat(e.id,"-error"));e.classList.remove(this._dataElement.inputErrorClass),t.textContent="",t.classList.remove(this._dataElement.errorClass)}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"_validateInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._validateInput()?(this._buttonElement.classList.add(this._dataElement.inactiveButtonClass),this._buttonElement.disabled=!0):(this._buttonElement.classList.remove(this._dataElement.inactiveButtonClass),this._buttonElement.disabled=!1)}},{key:"_setEventListeners",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState()}))}))}},{key:"resetValidation",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){e._hideInputError(t)}))}},{key:"disabledButton",value:function(){this._buttonElement.classList.add(this._dataElement.inactiveButtonClass),this._buttonElement.disabled=!0}},{key:"enableValidation",value:function(){this._setEventListeners()}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._container=n}var t,n;return t=e,(n=[{key:"addItem",value:function(e){this._container.prepend(e)}},{key:"renderItem",value:function(e){var t=this;e.forEach((function(e){t._renderer(e)}))}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=t,this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("mousedown",(function(t){(t.target.classList.contains("popup_opened")||t.target.classList.contains("popup__button-close"))&&e.close()}))}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=h(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},p.apply(this,arguments)}function h(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function y(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_(r);if(o){var n=_(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return y(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._name=t._popup.querySelector(".popup__caption"),t._link=t._popup.querySelector(".popup__image-src"),t}return t=a,(n=[{key:"open",value:function(e,t){this._link.src=t,this._link.alt=e,this._name.textContent=e,p(_(a.prototype),"open",this).call(this)}}])&&f(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(l);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(){return g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=w(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},g.apply(this,arguments)}function w(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=S(e)););return e}function E(e,t){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},E(e,t)}function O(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=S(r);if(o){var n=S(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return O(this,e)});function a(e,t){var n,r=t.submitForm;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._submitForm=r,n._form=n._popup.querySelector(".popup__form"),n._inputs=n._form.querySelectorAll(".popup__input"),n._submitButton=n._popup.querySelector(".popup__button"),n._submitButtonContent=n._submitButton.textContent,n}return t=a,(n=[{key:"_getInputValues",value:function(){var e={};return this._inputs.forEach((function(t){e[t.name]=t.value})),e}},{key:"setInputValues",value:function(e){this._inputs.forEach((function(t){t.value=e[t.id],console.log(t)}))}},{key:"setEventListeners",value:function(){var e=this;g(S(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._submitForm(e._getInputValues()),e.close()}))}},{key:"renderLoadingView",value:function(e,t){var n=this;e?(this._submitButton.disabled=!0,this._submitButton.textContent=t):setTimeout((function(){n._submitButton.disabled=!0,n._submitButton.textContent=n._submitButtonContent}),3e3)}},{key:"close",value:function(){g(S(a.prototype),"close",this).call(this),this._form.reset()}}])&&v(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(l);function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(){return L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=P(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},L.apply(this,arguments)}function P(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=B(e)););return e}function I(e,t){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},I(e,t)}function q(e,t){if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function B(e){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},B(e)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=B(r);if(o){var n=B(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return q(this,e)});function a(e,t){var n,r=t.submitForm;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._form=n._popup.querySelector(".popup__form"),n._submitForm=r,n}return t=a,(n=[{key:"open",value:function(e){this._card=e,L(B(a.prototype),"open",this).call(this)}},{key:"setSubmitAction",value:function(e){var t=e.handleSubmitAction;this.submitAction=t}},{key:"setEventListeners",value:function(){var e=this;L(B(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._submitForm(e._card)}))}}])&&C(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(l);function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var V,A=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(t.nameSelector),this._about=document.querySelector(t.aboutSelector),this._avatar=document.querySelector(t.avatarSelector)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,about:this._about.textContent,avatar:this._avatar.src}}},{key:"setUserInfo",value:function(e){this._name.textContent=e.name,this._about.textContent=e.about,this._avatar.src=e.avatar}}])&&T(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),x=(document.querySelectorAll(".popup"),document.querySelector(".popup_profile")),U=document.querySelector(".popup_new-card"),D=document.querySelector(".popup_image"),F=document.querySelector(".popup_avatar"),J=document.querySelector(".popup_accept"),N=document.querySelector(".profile__button-edit"),H=document.querySelector(".profile__button-edd"),M=document.querySelector(".profile__avatar"),z=document.querySelector(".elements"),$=document.querySelector(".popup__form"),G=document.querySelector(".popup__form_new-card"),K=document.querySelector(".popup__form_avatar"),Q={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error-visible"};function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var X=new t({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-47",headers:{authorization:"57fe7532-adaf-4e02-b40f-30da1bce78cd","Content-Type":"application/json"}}),Y=function(e,t){Z.open(e,t)},Z=new b(D);Z.setEventListeners();var ee=function(e){var t=new r(e,"#element-template",Y,{userId:V},{handleDeleteCard:function(){re.open(e),re.setSubmitAction({handleSubmitAction:function(){X.deleteCard(e).then((function(){re.close(),t.delete()})).catch((function(e){return console.log(e)}))}})}});return t.generateCard()},te=new u({renderer:function(e){var t=ee(e);te.addItem(t)}},z),ne=new k(U,{submitForm:function(e){ne.renderLoadingView(!0,"Сохранение..."),X.addCard(e).then((function(e){te.addItem(ee(e)),ne.close()})).catch((function(e){console.log("Ошибка: ".concat(e))})).finally((function(){ne.renderLoadingView(!1)}))}});ne.setEventListeners(),H.addEventListener("click",(function(){ne.open(),ce.resetValidation()}));var re=new R(J,{submitForm:function(){return re.submitAction()}});re.setEventListeners();var oe=new k(x,{submitForm:function(e){oe.renderLoadingView(!0,"Сохранение..."),X.changeProfile(e).then((function(e){ie.setUserInfo(e),oe.close()})).catch((function(e){return console.log(e)})).finally((function(){oe.renderLoadingView(!1)}))}});oe.setEventListeners();var ie=new A({nameSelector:".profile__user-name",aboutSelector:".profile__user-about",avatarSelector:".profile__avatar-img"});N.addEventListener("click",(function(){var e=ie.getUserInfo();oe.setInputValues(e),oe.open(),ue.resetValidation(),ue.disabledButton()}));var ae=new k(F,{submitForm:function(e){ae.renderLoadingView(!0,"Сохранение..."),X.changeAvatar(e).then((function(e){ie.setUserInfo(e),ae.close()})).catch((function(e){return console.log(e)})).finally((function(){ae.renderLoadingView(!1)}))}});ae.setEventListeners(),M.addEventListener("click",(function(){ae.open(),le.resetValidation()})),Promise.all([X.getUserInfo(),X.getInitialCards()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];V=o._id,ie.setUserInfo(o),te.renderItem(i.reverse())})).catch((function(e){return console.log(e)}));var ue=new i($,Q),ce=new i(G,Q),le=new i(K,Q);ue.enableValidation(),ce.enableValidation(),le.enableValidation()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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THdLLEdBQVlDLFlBQVl6SyxHQUN4QitLLEdBQVk3RSxPQUNiLElBQ0F3RCxPQUFNLFNBQUNDLEdBQUQsT0FBUzNDLFFBQVFDLElBQUkwQyxFQUFyQixJQUNOUSxTQUFRLFdBQ1BZLEdBQVlkLG1CQUFrQixFQUMvQixHQUNKLElBZkRjLEdBQVkzQixvQkFrQlpWLEVBQWEzRixpQkFBaUIsU0FBUyxXQUNyQ2dJLEdBQVk1QixPQUNaOEIsR0FBcUJaLGlCQUN0QixJQW1CRGxLLFFBQVErSyxJQUFJLENBQUNsQyxFQUFJMkIsY0FBZTNCLEVBQUltQyxvQkFDakM1SyxNQUFLLFlBQW1CLEksSUFBQSxHLEVBQUEsRSw0Q0FBQSxJLGd4QkFBakJFLEVBQWlCLEtBQVgySyxFQUFXLEtBQ3ZCN0osRUFBU2QsRUFBS1MsSUFDZHNKLEdBQVlDLFlBQVloSyxHQUN4Qm9KLEdBQVN3QixXQUFXRCxFQUFNRSxVQUMzQixJQUNBNUIsT0FBTSxTQUFDQyxHQUFELE9BQVMzQyxRQUFRQyxJQUFJMEMsRUFBckIsSUFHVCxJQUFNa0IsR0FBcUIsSUFBSXpILEVBQWN3RixFQUFpQnRGLEdBQ3hEOEcsR0FBb0IsSUFBSWhILEVBQWN5RixFQUFpQnZGLEdBQ3ZEMkgsR0FBdUIsSUFBSTdILEVBQWMwRixFQUFtQnhGLEdBQ2xFdUgsR0FBbUJVLG1CQUNuQm5CLEdBQWtCbUIsbUJBQ2xCTixHQUFxQk0sa0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoQWNjZXB0LmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKHsgYmFzZVVybCwgaGVhZGVycyB9KSB7XG4gICAgdGhpcy5fYmFzZVVybCA9IGJhc2VVcmw7XG4gICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XG4gIH1cblxuICAvLyDQn9GA0LjQstCw0YLQvdGL0Lkg0LzQtdGC0L7QtCDQvtCx0YDQsNCx0L7RgtC60Lgg0L7RgtCy0LXRgtCwXG4gIF9nZXRKc29uT3JFcnJvcihyZXMpIHtcbiAgICBpZiAocmVzLm9rKSB7XG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICB9XG4gICAgLy8g0JXRgdC70Lgg0L7RiNC40LHQutCwLCDQvtGC0LrQu9C+0L3Rj9C10Lwg0L/RgNC+0LzQuNGBXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTtcbiAgfVxuXG4gIC8vINCf0L7Qu9GD0YfQtdC90LjQtSDQtNCw0L3QvdGL0YUg0L/RgNC+0YTQuNC70Y8g0YEg0YHQtdGA0LLQtdGA0LBcbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX2dldEpzb25PckVycm9yKTtcbiAgfVxuXG4gIC8vINCf0L7Qu9GD0YfQtdC90LjQtSDQutCw0YDRgtC+0YfQtdC6INGBINGB0LXRgNCy0LXRgNCwXG4gIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5fZ2V0SnNvbk9yRXJyb3IpO1xuICB9XG5cbiAgLy8g0J7RgtC/0YDQsNCy0LrQsCDQvdCwINGB0LXRgNCy0LXRgCDQvdC+0LLQvtC5INC60LDRgNGC0L7Rh9C60LhcbiAgYWRkQ2FyZChkYXRhKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWU6IGRhdGEubmFtZSxcbiAgICAgICAgbGluazogZGF0YS5saW5rLFxuICAgICAgfSksXG4gICAgfSkudGhlbih0aGlzLl9nZXRKc29uT3JFcnJvcik7XG4gIH1cblxuICAvLyDQntCx0L3QvtCy0LvQtdC90LjQtSDQtNCw0L3QvdGL0YUg0L/RgNC+0YTQuNC70Y8g0L3QsCDRgdC10YDQstC10YDQtVxuICBjaGFuZ2VQcm9maWxlKGRhdGEpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWU6IGRhdGEubmFtZSxcbiAgICAgICAgYWJvdXQ6IGRhdGEuYWJvdXQsXG4gICAgICB9KSxcbiAgICB9KS50aGVuKHRoaXMuX2dldEpzb25PckVycm9yKTtcbiAgfVxuXG4gIC8vINCe0LHQvdC+0LLQu9C10L3QuNC1INCw0LLQsNGC0LDRgNCwINC90LAg0YHQtdGA0LLQtdGA0LVcbiAgY2hhbmdlQXZhdGFyKGRhdGEpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBhdmF0YXI6IGRhdGEuYXZhdGFyLFxuICAgICAgfSksXG4gICAgfSkudGhlbih0aGlzLl9nZXRKc29uT3JFcnJvcik7XG4gIH1cblxuICAvLyDQo9C00LDQu9C10L3QuNC1INC60LDRgNGC0L7Rh9C60Lgg0L3QsCDRgdC10YDQstC10YDQtVxuICBkZWxldGVDYXJkKGRhdGEpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtkYXRhLl9pZH1gLCB7XG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX2dldEpzb25PckVycm9yKTtcbn1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihpdGVtLCBjYXJkU2VsZWN0b3IsIG9wZW5JbWFnZSwge3VzZXJJZH0sIHsgaGFuZGxlRGVsZXRlQ2FyZCB9KSB7XG4gICAgLy8g0L/QtdGA0LXQtNCw0LXQvCDQutC+0L3RgdGC0YDRg9C60YLQvtGA0YMg0L/QsNGA0LDQvNC10YLRgNGLXG4gICAgdGhpcy5fbmFtZSA9IGl0ZW0ubmFtZTtcbiAgICB0aGlzLl9saW5rID0gaXRlbS5saW5rO1xuICAgIHRoaXMuX2lkID0gdXNlcklkO1xuICAgIHRoaXMuX293bmVySWQgPSBpdGVtLm93bmVyLl9pZDtcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XG4gICAgdGhpcy5fb3BlbkltYWdlID0gb3BlbkltYWdlO1xuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNhcmQgPSBoYW5kbGVEZWxldGVDYXJkO1xuICB9XG5cbiAgLy8g0LfQsNCx0LjRgNCw0LXQvCDRgNCw0LfQvNC10YLQutGDINC60LDRgNGC0L7Rh9C60Lgg0LjQtyBIVE1MLCDQutC70L7QvdC40YDRg9C10Lwg0Y3Qu9C10LzQtdC90YIg0Lgg0LLQvtC30LLRgNCw0YnQsNC10Lwg0Y3Qu9C10LzQtdC90YIg0LrQsNGA0YLQvtGH0LrQuFxuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgY29uc3QgY2FyZFRlbXBsYXRlID0gZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudFwiKVxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcblxuICAgIHJldHVybiBjYXJkVGVtcGxhdGU7XG4gIH1cblxuICAvLyDQt9Cw0LHQuNGA0LDQtdC8IG5hbWUg0LggbGluayDQuNC3INC80LDRgdGB0LjQstCwINC4INCz0L7RgtC+0LLQuNC8INC60LDRgNGC0L7Rh9C60YMg0Log0L/Rg9Cx0LvQuNC60LDRhtC40LhcbiAgZ2VuZXJhdGVDYXJkKCkge1xuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuICAgIHRoaXMuX2ltYWdlRWxlbWVudCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19pbWFnZVwiKTtcbiAgICB0aGlzLl9kZWxldGVCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fZGVsZXRlXCIpO1xuICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fbGlrZVwiKTtcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fY2l0eVwiKS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5faW1hZ2VFbGVtZW50LnNyYyA9IHRoaXMuX2xpbms7XG4gICAgdGhpcy5faW1hZ2VFbGVtZW50LmFsdCA9IHRoaXMuX25hbWU7XG4gICAgaWYgKHRoaXMuX2lkICE9PSB0aGlzLl9vd25lcklkKSB7XG4gICAgICB0aGlzLl9kZWxldGVCdXR0b24uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH1cbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpOyAvLyDQtNC+0LHQsNCy0LvRj9C10Lwg0L7QsdGA0LDQsdC+0YLRh9C40LrQuFxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9XG5cbiAgLy8g0LzQtdGC0L7QtCDQtNC70Y8g0YPRgdGC0LDQvdC+0LLQutC4INGB0LvRg9GI0LDRgtC10LvQtdC5INGB0L7QsdGL0YLQuNC5XG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVMaWtlQ2xpY2soKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQ2FyZCh0aGlzKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX2ltYWdlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5fb3BlbkltYWdlKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspO1xuICAgIH0pO1xuICB9XG5cbiAgLy8g0LzQtdGC0L7QtCDQtNC70Y8g0LjQt9C80LXQvdC10L3QuNGPINC60LvQsNGB0YHQsCDQu9Cw0LnQutCwXG4gIF9oYW5kbGVMaWtlQ2xpY2soKSB7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKFwiZWxlbWVudF9fbGlrZV9hY3RpdmVcIik7XG4gIH1cblxuICAvLyDQvNC10YLQvtC0INC00LvRjyDRg9C00LDQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LhcbiAgZGVsZXRlKCkge1xuICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XG4gICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3Rvcihmb3JtRWxlbWVudCwgZGF0YUVsZW1lbnQpIHtcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICAgIHRoaXMuX2RhdGFFbGVtZW50ID0gZGF0YUVsZW1lbnQ7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcbiAgICAgIGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fZGF0YUVsZW1lbnQuaW5wdXRTZWxlY3RvcilcbiAgICApO1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgdGhpcy5fZGF0YUVsZW1lbnQuc3VibWl0QnV0dG9uU2VsZWN0b3JcbiAgICApO1xuICB9XG5cbiAgLy8g0LzQtdGC0L7QtCDQtNC70Y8g0L7RgtC+0LHRgNCw0LbQtdC90LjRjyDQvtGI0LjQsdC60Lgg0LLQstC+0LTQsFxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpIHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXG4gICAgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9kYXRhRWxlbWVudC5pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9kYXRhRWxlbWVudC5lcnJvckNsYXNzKTtcbiAgfVxuXG4gIC8vINC80LXRgtC+0LQg0LTQu9GPINGB0LrRgNGL0YLQuNGPINC+0YjQuNCx0LrQuCDQstCy0L7QtNCwXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXG4gICAgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9kYXRhRWxlbWVudC5pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZGF0YUVsZW1lbnQuZXJyb3JDbGFzcyk7XG4gIH1cblxuICAvLyDQvNC10YLQvtC0INC00LvRjyDQv9GA0L7QstC10YDQutC4INCy0LDQu9C40LTQvdC+0YHRgtGMINCy0LLQvtC00LBcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIC8vINC00L7QsdCw0LLQu9C10L3QuNC1INC+0LHRgNCw0LHQvtGC0YfQuNC60L7QsiDRgdC+0LHRi9GC0LjQuSDQuiDQv9C+0LvRj9C8INGE0L7RgNC80YtcbiAgX3ZhbGlkYXRlSW5wdXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIC8vINCV0YHQu9C4INC/0L7Qu9C1INC90LUg0LLQsNC70LjQtNC90L4sINC60L7Qu9Cx0Y3QuiDQstC10YDQvdGR0YIgdHJ1ZSwg0L7QsdGF0L7QtCDQvNCw0YHRgdC40LLQsCDQv9GA0LXQutGA0LDRgtC40YLRgdGPINC4INC80LXRgtC+0LQgdmFsaWRhdGVJbnB1dCDQstC10YDQvdGR0YIgdHJ1ZVxuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XG4gICAgfSk7XG4gIH1cblxuICAvLyDQvNC10YLQvtC0INC/0LXRgNC10LrQu9GO0YfQtdC90LjRjyDRgdC+0YHRgtC+0Y/QvdC40Y8g0LrQvdC+0L/QutC4XG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcbiAgICAvLyDQldGB0LvQuCDQtdGB0YLRjCDRhdC+0YLRjyDQsdGLINC+0LTQuNC9INC90LXQstCw0LvQuNC00L3Ri9C5INC40L3Qv9GD0YJcbiAgICBpZiAodGhpcy5fdmFsaWRhdGVJbnB1dCgpKSB7XG4gICAgICAvLyDRgdC00LXQu9Cw0Lkg0LrQvdC+0L/QutGDINC90LXQsNC60YLQuNCy0L3QvtC5XG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZGF0YUVsZW1lbnQuaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8g0LjQvdCw0YfQtSDRgdC00LXQu9Cw0Lkg0LrQvdC+0L/QutGDINCw0LrRgtC40LLQvdC+0LlcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9kYXRhRWxlbWVudC5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvLyDQvNC10YLQvtC0INC/0YDQuNC90LjQvNCw0LXRgiDQv9Cw0YDQsNC80LXRgtGA0L7QvCDRjdC70LXQvNC10L3RgiDRhNC+0YDQvNGLINC4INC00L7QsdCw0LLQu9GP0LXRgiDQv9C+0LvRj9C8INC90YPQttC90YvQtSDQvtCx0YDQsNCx0L7RgtGH0LjQutC4XG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAvLyAvLyDQn9GA0L7QstC10YDQutCwINGB0L7RgdGC0L7Rj9C90LjRjyDQutC90L7Qv9C60Lgg0LIg0YHQsNC80L7QvCDQvdCw0YfQsNC70LVcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICAgIC8vINCy0YvQt9GL0LLQsNC10Lwg0LzQtdGC0L7QuyDQv9GA0L7QstC10YDQutC4INCy0LDQu9C40LTQvdC+0YHRgtC4INCy0LLQvtC00LAsINC/0LXRgNC10LTQsNCy0LDRjyDRhNC+0YDQvNGDINC4INC/0YDQvtCy0LXRgNGP0LXQvNGL0Lkg0Y3Qu9C10LzQtdC90YJcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XG4gICAgICAgIC8vINCf0YDQvtCy0LXRgNC60LAg0YHQvtGB0YLQvtGP0L3QuNGPINC60L3QvtC/0LrQuCDQv9GA0Lgg0LjQt9C80LXQvdC10L3QuNC4INC70Y7QsdC+0LPQviDQuNC3INC/0L7Qu9C10LlcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLy8g0LzQtdGC0L7QtCDQvtGH0LjRidCw0LXRgiDQvtGI0LjQsdC60Lgg0Lgg0LHQu9C+0LrQuNGA0YPQtdGCINC60L3QvtC/0LrRg1xuICByZXNldFZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcblxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH0pXG4gIH1cblxuICBkaXNhYmxlZEJ1dHRvbigpIHtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZGF0YUVsZW1lbnQuaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XG4gIH1cblxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9jb250YWluZXIgPSBjb250YWluZXJTZWxlY3RvcjtcbiAgfVxuXG4gIGFkZEl0ZW0oaXRlbSkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGl0ZW0pO1xuICB9XG5cbiAgcmVuZGVySXRlbShpdGVtcykge1xuICAgIGl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcG9wdXAgPSBwb3B1cFNlbGVjdG9yO1xuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZChcInBvcHVwX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlbmVkXCIpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuXG4gIF9oYW5kbGVFc2NDbG9zZShlKSB7XG4gICAgaWYgKGUua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGUpID0+IHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwX29wZW5lZFwiKSB8fFxuICAgICAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwX19idXR0b24tY2xvc2VcIilcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fbmFtZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2NhcHRpb25cIik7XG4gICAgdGhpcy5fbGluayA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ltYWdlLXNyY1wiKTtcbiAgfVxuXG4gIG9wZW4obmFtZSwgbGluaykge1xuICAgIHRoaXMuX2xpbmsuc3JjID0gbGluaztcbiAgICB0aGlzLl9saW5rLmFsdCA9IG5hbWU7XG4gICAgdGhpcy5fbmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgc3VwZXIub3BlbigpO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgeyBzdWJtaXRGb3JtIH0pIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9zdWJtaXRGb3JtID0gc3VibWl0Rm9ybTtcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcbiAgICB0aGlzLl9pbnB1dHMgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2lucHV0XCIpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2J1dHRvblwiKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25Db250ZW50ID0gdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50O1xuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIGNvbnN0IHZhbHVlcyA9IHt9O1xuICAgIHRoaXMuX2lucHV0cy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICB2YWx1ZXNbZWxlbWVudC5uYW1lXSA9IGVsZW1lbnQudmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHZhbHVlcztcbiAgfVxuXG4gIHNldElucHV0VmFsdWVzKGRhdGEpIHtcbiAgICB0aGlzLl9pbnB1dHMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgaXRlbS52YWx1ZSA9IGRhdGFbaXRlbS5pZF07XG4gICAgICBjb25zb2xlLmxvZyhpdGVtKTtcbiAgICB9KTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9zdWJtaXRGb3JtKHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgLy8g0JLQuNC30YPQsNC70LjQt9Cw0YbQuNGPINC40L3QtNC40LrQsNGC0L7RgNCwINGB0L7RhdGA0LDQvdC10L3QuNGPINGE0L7RgNC80YsgKFVYKVxuICByZW5kZXJMb2FkaW5nVmlldyhsb2FkaW5nLCB0ZXh0KSB7XG4gICAgaWYgKGxvYWRpbmcpIHtcbiAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gdGV4dDtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IHRoaXMuX3N1Ym1pdEJ1dHRvbkNvbnRlbnQ7XG4gICAgICB9LCAzMDAwKTtcbiAgICB9XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICBzdXBlci5jbG9zZSgpO1xuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEFjY2VwdCBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgeyBzdWJtaXRGb3JtIH0pIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcbiAgICB0aGlzLl9zdWJtaXRGb3JtID0gc3VibWl0Rm9ybTtcbiAgfVxuXG4gIG9wZW4oY2FyZCkge1xuICAgIHRoaXMuX2NhcmQgPSBjYXJkO1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxuXG4gIHNldFN1Ym1pdEFjdGlvbih7IGhhbmRsZVN1Ym1pdEFjdGlvbiB9KSB7IFxuICAgIHRoaXMuc3VibWl0QWN0aW9uID0gaGFuZGxlU3VibWl0QWN0aW9uO1xuICB9IFxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9zdWJtaXRGb3JtKHRoaXMuX2NhcmQpO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgXCIuLy4uL3BhZ2VzL2luZGV4LmNzc1wiO1xuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEFjY2VwdCBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhBY2NlcHQuanNcIjtcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xuaW1wb3J0IHtcbiAgcG9wdXBVc2VyLFxuICBwb3B1cENhcmQsXG4gIHBvcHVwSW1hZ2UsXG4gIHBvcHVwQXZhdGFyLFxuICBwb3B1cEFjY2VwdCxcbiAgcHJvZmlsZUJ1dHRvbixcbiAg0YFhcmRCdXR0b24sXG4gIGF2YXRhckJ1dHRvbixcbiAgY2FyZExpc3RTZWxlY3RvcixcbiAgZm9ybUVsZW1lbnRVc2VyLFxuICBmb3JtRWxlbWVudENhcmQsXG4gIGZvcm1FbGVtZW50QXZhdGFyLFxuICBkYXRhRWxlbWVudCxcbn0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xuXG5sZXQgdXNlcklkO1xuXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogXCJodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTQ3XCIsXG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiBcIjU3ZmU3NTMyLWFkYWYtNGUwMi1iNDBmLTMwZGExYmNlNzhjZFwiLFxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICB9LFxufSk7XG5cbmNvbnN0IG9wZW5JbWFnZSA9IChuYW1lLCBsaW5rKSA9PiB7XG4gIGltYWdlUG9wdXAub3BlbihuYW1lLCBsaW5rKTtcbn07XG5cbmNvbnN0IGltYWdlUG9wdXAgPSBuZXcgUG9wdXBXaXRoSW1hZ2UocG9wdXBJbWFnZSk7XG5pbWFnZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IGNyZWF0ZUNhcmQgPSAoaXRlbSkgPT4ge1xuICBjb25zdCBjYXJkID0gbmV3IENhcmQoXG4gICAgaXRlbSxcbiAgICBcIiNlbGVtZW50LXRlbXBsYXRlXCIsXG4gICAgb3BlbkltYWdlLFxuICAgIHsgdXNlcklkOiB1c2VySWQgfSxcbiAgICB7XG4gICAgICBoYW5kbGVEZWxldGVDYXJkOiAoKSA9PiB7XG4gICAgICAgIGFjY2VwdFBvcHVwLm9wZW4oaXRlbSk7XG4gICAgICAgIGFjY2VwdFBvcHVwLnNldFN1Ym1pdEFjdGlvbih7XG4gICAgICAgICAgaGFuZGxlU3VibWl0QWN0aW9uOiAoKSA9PiB7XG4gICAgICAgICAgICBhcGlcbiAgICAgICAgICAgICAgLmRlbGV0ZUNhcmQoaXRlbSlcbiAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGFjY2VwdFBvcHVwLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgY2FyZC5kZWxldGUoKTtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICB9XG4gICk7XG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcbiAgcmV0dXJuIGNhcmRFbGVtZW50O1xufTtcblxuY29uc3QgY2FyZExpc3QgPSBuZXcgU2VjdGlvbihcbiAge1xuICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xuICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBjcmVhdGVDYXJkKGl0ZW0pO1xuICAgICAgY2FyZExpc3QuYWRkSXRlbShjYXJkRWxlbWVudCk7XG4gICAgfSxcbiAgfSxcbiAgY2FyZExpc3RTZWxlY3RvclxuKTtcblxuLy8g0J/QvtC/0LDQvyDQtNC+0LHQsNCy0LvQtdC90LjRjyDQvdC+0LLQvtCz0L4g0LzQtdGB0YLQsFxuY29uc3QgbmV3Q2FyZFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0ocG9wdXBDYXJkLCB7XG4gIHN1Ym1pdEZvcm06IGhhbmRsZXJDYXJkU3VibWl0LFxufSk7XG5uZXdDYXJkUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuLy8g0J7RgtC60YDRi9GC0LjQtSDQv9C+0L/QsNC/0LAg0LTQvtCx0LDQstC70LXQvdC40Y8g0L3QvtCy0L7Qs9C+INC80LXRgdGC0LBcbtGBYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIG5ld0NhcmRQb3B1cC5vcGVuKCk7XG4gIGFkZEZvcm1WYWxpZGF0aW9uLnJlc2V0VmFsaWRhdGlvbigpO1xufSk7XG5cbi8vINCe0YLQv9GA0LDQstC60LAg0LTQsNC90L3Ri9GFINGE0L7RgNC80Ysg0LTQvtCx0LDQstC70LXQvdC40Y8g0L3QvtCy0L7Qs9C+INC80LXRgdGC0LBcbmZ1bmN0aW9uIGhhbmRsZXJDYXJkU3VibWl0KGRhdGEpIHtcbiAgbmV3Q2FyZFBvcHVwLnJlbmRlckxvYWRpbmdWaWV3KHRydWUsIFwi0KHQvtGF0YDQsNC90LXQvdC40LUuLi5cIik7XG4gIGFwaVxuICAgIC5hZGRDYXJkKGRhdGEpXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgY2FyZExpc3QuYWRkSXRlbShjcmVhdGVDYXJkKHJlcykpO1xuICAgICAgbmV3Q2FyZFBvcHVwLmNsb3NlKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5sb2coYNCe0YjQuNCx0LrQsDogJHtlcnJ9YCk7XG4gICAgfSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBuZXdDYXJkUG9wdXAucmVuZGVyTG9hZGluZ1ZpZXcoZmFsc2UpO1xuICAgIH0pO1xufVxuXG4vLyDQn9C+0L/QsNC/INC/0L7QtNGC0LLQtdGA0LbQtNC10L3QuNGPINGD0LTQsNC70LXQvdC40Y8g0LzQvtC10Lkg0LrQsNGA0YLQvtGH0LrQuFxuY29uc3QgYWNjZXB0UG9wdXAgPSBuZXcgUG9wdXBXaXRoQWNjZXB0KHBvcHVwQWNjZXB0LCB7XG4gIHN1Ym1pdEZvcm06ICgpID0+IGFjY2VwdFBvcHVwLnN1Ym1pdEFjdGlvbigpLFxufSk7XG5hY2NlcHRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vLyDQn9C+0L/QsNC/INC40LfQvNC10L3QtdC90LjRjyDQv9GA0L7RhNC40LvRj1xuY29uc3QgcHJvZmlsZVBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0ocG9wdXBVc2VyLCB7XG4gIHN1Ym1pdEZvcm06IGhhbmRsZXJQcm9maWxlU3VibWl0LFxufSk7XG5wcm9maWxlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgcHJvZmlsZUluZm8gPSBuZXcgVXNlckluZm8oe1xuICBuYW1lU2VsZWN0b3I6IFwiLnByb2ZpbGVfX3VzZXItbmFtZVwiLFxuICBhYm91dFNlbGVjdG9yOiBcIi5wcm9maWxlX191c2VyLWFib3V0XCIsXG4gIGF2YXRhclNlbGVjdG9yOiBcIi5wcm9maWxlX19hdmF0YXItaW1nXCIsXG59KTtcblxuLy8g0J7RgtC/0YDQsNCy0LrQsCDQtNCw0L3QvdGL0YUg0YTQvtGA0LzRiyDQuNC30LzQtdC90LXQvdC40Y8g0L/RgNC+0YTQuNC70Y9cbmZ1bmN0aW9uIGhhbmRsZXJQcm9maWxlU3VibWl0KGRhdGEpIHtcbiAgcHJvZmlsZVBvcHVwLnJlbmRlckxvYWRpbmdWaWV3KHRydWUsIFwi0KHQvtGF0YDQsNC90LXQvdC40LUuLi5cIik7XG4gIGFwaVxuICAgIC5jaGFuZ2VQcm9maWxlKGRhdGEpXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgcHJvZmlsZUluZm8uc2V0VXNlckluZm8ocmVzKTtcbiAgICAgIHByb2ZpbGVQb3B1cC5jbG9zZSgpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgcHJvZmlsZVBvcHVwLnJlbmRlckxvYWRpbmdWaWV3KGZhbHNlKTtcbiAgICB9KTtcbn1cblxuLy8g0J7RgtC60YDRi9GC0LjQtSDQv9C+0L/QsNC/0LAg0LjQt9C80LXQvdC10L3QuNGPINC/0YDQvtGE0LjQu9GPXG5wcm9maWxlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGNvbnN0IGluZm8gPSBwcm9maWxlSW5mby5nZXRVc2VySW5mbygpO1xuICBwcm9maWxlUG9wdXAuc2V0SW5wdXRWYWx1ZXMoaW5mbyk7XG4gIHByb2ZpbGVQb3B1cC5vcGVuKCk7XG4gIHVzZXJGb3JtVmFsaWRhdGlvbi5yZXNldFZhbGlkYXRpb24oKTtcbiAgdXNlckZvcm1WYWxpZGF0aW9uLmRpc2FibGVkQnV0dG9uKCk7XG59KTtcblxuLy8g0J/QvtC/0LDQvyDQuNC30LzQtdC90LXQvdC40Y8g0LDQstCw0YLQsNGA0LBcbmNvbnN0IGF2YXRhclBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0ocG9wdXBBdmF0YXIsIHtcbiAgc3VibWl0Rm9ybTogaGFuZGxlckF2YXRhclN1Ym1pdCxcbn0pO1xuYXZhdGFyUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuLy8g0J7RgtC/0YDQsNCy0LrQsCDQtNCw0L3QvdGL0YUg0YTQvtGA0LzRiyDQuNC30LzQtdC90LXQvdC40Y8g0LDQstCw0YLQsNGA0LBcbmZ1bmN0aW9uIGhhbmRsZXJBdmF0YXJTdWJtaXQoZGF0YSkge1xuICBhdmF0YXJQb3B1cC5yZW5kZXJMb2FkaW5nVmlldyh0cnVlLCBcItCh0L7RhdGA0LDQvdC10L3QuNC1Li4uXCIpO1xuICBhcGlcbiAgICAuY2hhbmdlQXZhdGFyKGRhdGEpXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgcHJvZmlsZUluZm8uc2V0VXNlckluZm8ocmVzKTtcbiAgICAgIGF2YXRhclBvcHVwLmNsb3NlKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBhdmF0YXJQb3B1cC5yZW5kZXJMb2FkaW5nVmlldyhmYWxzZSk7XG4gICAgfSk7XG59XG5cbi8vINCe0YLQutGA0YvRgtC40LUg0L/QvtC/0LDQv9CwINC40LfQvNC10L3QtdC90LjRjyDQsNCy0LDRgtCw0YDQsFxuYXZhdGFyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGF2YXRhclBvcHVwLm9wZW4oKTtcbiAgYXZhdGFyRm9ybVZhbGlkYXRpb24ucmVzZXRWYWxpZGF0aW9uKCk7XG59KTtcblxuLy8gLy8g0KPQtNCw0LvQtdC90LjQtSDQutCw0YDRgtC+0YfQutC4INC90LAg0YHQtdGA0LLQtdGA0LVcbi8vIGZ1bmN0aW9uIGRlbGV0ZU15Q2FyZChpdGVtKSB7XG4vLyAgIGFwaVxuLy8gICAgIC5kZWxldGVDYXJkKGl0ZW0uX2lkKVxuLy8gICAgIC50aGVuKCgpID0+IHtcbi8vICAgICAgIGFjY2VwdFBvcHVwLmNsb3NlKCk7XG4vLyAgICAgICBjYXJkLmRlbGV0ZSgpO1xuLy8gICAgIH0pXG4vLyAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXG4vLyB9XG5cbi8vIC8vINCf0L7Rj9Cy0LvQtdC90LjQtSDQvtC60L3QsCDRgSDQv9C+0LTRgtCy0LXRgNC20LTQtdC90LjQtdC8INGD0LTQsNC70LXQvdC40Y9cbi8vIGNvbnN0IGFjY2VwdERlbGV0ZUNhcmQgPSAoY2FyZCkgPT4ge1xuLy8gICBhY2NlcHRQb3B1cC5vcGVuKGNhcmQpO1xuLy8gICBjb25zb2xlLmxvZyhjYXJkKTtcbi8vIH07XG5cblByb21pc2UuYWxsKFthcGkuZ2V0VXNlckluZm8oKSwgYXBpLmdldEluaXRpYWxDYXJkcygpXSlcbiAgLnRoZW4oKFtkYXRhLCBjYXJkc10pID0+IHtcbiAgICB1c2VySWQgPSBkYXRhLl9pZDtcbiAgICBwcm9maWxlSW5mby5zZXRVc2VySW5mbyhkYXRhKTtcbiAgICBjYXJkTGlzdC5yZW5kZXJJdGVtKGNhcmRzLnJldmVyc2UoKSk7XG4gIH0pXG4gIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcblxuLy8g0JLQsNC70LjQtNCw0YbQuNGPINGE0L7RgNC8XG5jb25zdCB1c2VyRm9ybVZhbGlkYXRpb24gPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtRWxlbWVudFVzZXIsIGRhdGFFbGVtZW50KTtcbmNvbnN0IGFkZEZvcm1WYWxpZGF0aW9uID0gbmV3IEZvcm1WYWxpZGF0b3IoZm9ybUVsZW1lbnRDYXJkLCBkYXRhRWxlbWVudCk7XG5jb25zdCBhdmF0YXJGb3JtVmFsaWRhdGlvbiA9IG5ldyBGb3JtVmFsaWRhdG9yKGZvcm1FbGVtZW50QXZhdGFyLCBkYXRhRWxlbWVudCk7XG51c2VyRm9ybVZhbGlkYXRpb24uZW5hYmxlVmFsaWRhdGlvbigpO1xuYWRkRm9ybVZhbGlkYXRpb24uZW5hYmxlVmFsaWRhdGlvbigpO1xuYXZhdGFyRm9ybVZhbGlkYXRpb24uZW5hYmxlVmFsaWRhdGlvbigpO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3RvcihkYXRhKSB7XG4gICAgdGhpcy5fbmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZGF0YS5uYW1lU2VsZWN0b3IpO1xuICAgIHRoaXMuX2Fib3V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihkYXRhLmFib3V0U2VsZWN0b3IpO1xuICAgIHRoaXMuX2F2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZGF0YS5hdmF0YXJTZWxlY3Rvcik7XG4gIH1cblxuICAvLyDQn9C+0LvRg9GH0LXQvdC40LUg0LjQvdGE0L7RgNC80LDRhtC40Lgg0L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9C1XG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLl9uYW1lLnRleHRDb250ZW50LFxuICAgICAgYWJvdXQ6IHRoaXMuX2Fib3V0LnRleHRDb250ZW50LFxuICAgICAgYXZhdGFyOiB0aGlzLl9hdmF0YXIuc3JjLFxuICAgIH07XG4gIH1cblxuICAvLyDQmNC30LzQtdC90LXQvdC40LUg0LjQvdGE0L7RgNC80LDRhtC40Lgg0L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9C1XG4gIHNldFVzZXJJbmZvKGRhdGEpIHtcbiAgICB0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX2Fib3V0LnRleHRDb250ZW50ID0gZGF0YS5hYm91dDtcbiAgICB0aGlzLl9hdmF0YXIuc3JjID0gZGF0YS5hdmF0YXI7XG4gIH1cbn1cbiIsImV4cG9ydCBjb25zdCBwb3B1cHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwXCIpO1xuZXhwb3J0IGNvbnN0IHBvcHVwVXNlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfcHJvZmlsZVwiKTtcbmV4cG9ydCBjb25zdCBwb3B1cENhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX25ldy1jYXJkXCIpO1xuZXhwb3J0IGNvbnN0IHBvcHVwSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX2ltYWdlXCIpO1xuZXhwb3J0IGNvbnN0IHBvcHVwQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9hdmF0YXJcIik7XG5leHBvcnQgY29uc3QgcG9wdXBBY2NlcHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX2FjY2VwdFwiKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19idXR0b24tZWRpdFwiKTtcbmV4cG9ydCBjb25zdCDRgWFyZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYnV0dG9uLWVkZFwiKTtcbmV4cG9ydCBjb25zdCBhdmF0YXJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2F2YXRhclwiKTtcbmV4cG9ydCBjb25zdCBjYXJkTGlzdFNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c1wiKTtcbmV4cG9ydCBjb25zdCBmb3JtRWxlbWVudFVzZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xuZXhwb3J0IGNvbnN0IGZvcm1FbGVtZW50Q2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1fbmV3LWNhcmRcIik7XG5leHBvcnQgY29uc3QgZm9ybUVsZW1lbnRBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtX2F2YXRhclwiKTtcblxuZXhwb3J0IGNvbnN0IGRhdGFFbGVtZW50ID0ge1xuICBmb3JtU2VsZWN0b3I6IFwiLnBvcHVwX19mb3JtXCIsXG4gIGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX19pbnB1dFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIucG9wdXBfX2J1dHRvblwiLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19idXR0b25fZGlzYWJsZWRcIixcbiAgaW5wdXRFcnJvckNsYXNzOiBcInBvcHVwX19pbnB1dF90eXBlX2Vycm9yXCIsXG4gIGVycm9yQ2xhc3M6IFwicG9wdXBfX2Vycm9yLXZpc2libGVcIixcbn07Il0sIm5hbWVzIjpbIkFwaSIsImJhc2VVcmwiLCJoZWFkZXJzIiwidGhpcyIsIl9iYXNlVXJsIiwiX2hlYWRlcnMiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZmV0Y2giLCJ0aGVuIiwiX2dldEpzb25PckVycm9yIiwiZGF0YSIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwibmFtZSIsImxpbmsiLCJhYm91dCIsImF2YXRhciIsIl9pZCIsIkNhcmQiLCJpdGVtIiwiY2FyZFNlbGVjdG9yIiwib3BlbkltYWdlIiwidXNlcklkIiwiaGFuZGxlRGVsZXRlQ2FyZCIsIl9uYW1lIiwiX2xpbmsiLCJfb3duZXJJZCIsIm93bmVyIiwiX2NhcmRTZWxlY3RvciIsIl9vcGVuSW1hZ2UiLCJfaGFuZGxlRGVsZXRlQ2FyZCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfZWxlbWVudCIsIl9nZXRUZW1wbGF0ZSIsIl9pbWFnZUVsZW1lbnQiLCJfZGVsZXRlQnV0dG9uIiwiX2xpa2VCdXR0b24iLCJ0ZXh0Q29udGVudCIsInNyYyIsImFsdCIsInN0eWxlIiwiZGlzcGxheSIsIl9zZXRFdmVudExpc3RlbmVycyIsImFkZEV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlTGlrZUNsaWNrIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwicmVtb3ZlIiwiRm9ybVZhbGlkYXRvciIsImZvcm1FbGVtZW50IiwiZGF0YUVsZW1lbnQiLCJfZm9ybUVsZW1lbnQiLCJfZGF0YUVsZW1lbnQiLCJfaW5wdXRMaXN0IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0U2VsZWN0b3IiLCJfYnV0dG9uRWxlbWVudCIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5wdXRFbGVtZW50IiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiaWQiLCJhZGQiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwic29tZSIsIl92YWxpZGF0ZUlucHV0IiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImRpc2FibGVkIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiZm9yRWFjaCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJyZW5kZXJlciIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJwcmVwZW5kIiwiaXRlbXMiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXAiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImUiLCJrZXkiLCJjbG9zZSIsInRhcmdldCIsImNvbnRhaW5zIiwiUG9wdXBXaXRoSW1hZ2UiLCJQb3B1cFdpdGhGb3JtIiwic3VibWl0Rm9ybSIsIl9zdWJtaXRGb3JtIiwiX2Zvcm0iLCJfaW5wdXRzIiwiX3N1Ym1pdEJ1dHRvbiIsIl9zdWJtaXRCdXR0b25Db250ZW50IiwidmFsdWVzIiwiZWxlbWVudCIsInZhbHVlIiwiY29uc29sZSIsImxvZyIsInByZXZlbnREZWZhdWx0IiwiX2dldElucHV0VmFsdWVzIiwibG9hZGluZyIsInRleHQiLCJzZXRUaW1lb3V0IiwicmVzZXQiLCJQb3B1cFdpdGhBY2NlcHQiLCJjYXJkIiwiX2NhcmQiLCJoYW5kbGVTdWJtaXRBY3Rpb24iLCJzdWJtaXRBY3Rpb24iLCJVc2VySW5mbyIsIm5hbWVTZWxlY3RvciIsIl9hYm91dCIsImFib3V0U2VsZWN0b3IiLCJfYXZhdGFyIiwiYXZhdGFyU2VsZWN0b3IiLCJwb3B1cFVzZXIiLCJwb3B1cENhcmQiLCJwb3B1cEltYWdlIiwicG9wdXBBdmF0YXIiLCJwb3B1cEFjY2VwdCIsInByb2ZpbGVCdXR0b24iLCLRgWFyZEJ1dHRvbiIsImF2YXRhckJ1dHRvbiIsImNhcmRMaXN0U2VsZWN0b3IiLCJmb3JtRWxlbWVudFVzZXIiLCJmb3JtRWxlbWVudENhcmQiLCJmb3JtRWxlbWVudEF2YXRhciIsImZvcm1TZWxlY3RvciIsImFwaSIsImF1dGhvcml6YXRpb24iLCJpbWFnZVBvcHVwIiwib3BlbiIsInNldEV2ZW50TGlzdGVuZXJzIiwiY3JlYXRlQ2FyZCIsImFjY2VwdFBvcHVwIiwic2V0U3VibWl0QWN0aW9uIiwiZGVsZXRlQ2FyZCIsImRlbGV0ZSIsImNhdGNoIiwiZXJyIiwiZ2VuZXJhdGVDYXJkIiwiY2FyZExpc3QiLCJjYXJkRWxlbWVudCIsImFkZEl0ZW0iLCJuZXdDYXJkUG9wdXAiLCJyZW5kZXJMb2FkaW5nVmlldyIsImFkZENhcmQiLCJmaW5hbGx5IiwiYWRkRm9ybVZhbGlkYXRpb24iLCJyZXNldFZhbGlkYXRpb24iLCJwcm9maWxlUG9wdXAiLCJjaGFuZ2VQcm9maWxlIiwicHJvZmlsZUluZm8iLCJzZXRVc2VySW5mbyIsImluZm8iLCJnZXRVc2VySW5mbyIsInNldElucHV0VmFsdWVzIiwidXNlckZvcm1WYWxpZGF0aW9uIiwiZGlzYWJsZWRCdXR0b24iLCJhdmF0YXJQb3B1cCIsImNoYW5nZUF2YXRhciIsImF2YXRhckZvcm1WYWxpZGF0aW9uIiwiYWxsIiwiZ2V0SW5pdGlhbENhcmRzIiwiY2FyZHMiLCJyZW5kZXJJdGVtIiwicmV2ZXJzZSIsImVuYWJsZVZhbGlkYXRpb24iXSwic291cmNlUm9vdCI6IiJ9