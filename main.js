(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e){var n=e.baseUrl,r=e.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._baseUrl=n,this._headers=r}var n,r;return n=t,(r=[{key:"_getJsonOrError",value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}},{key:"getUserInfo",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then(this._getJsonOrError)}},{key:"getInitialCards",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers}).then(this._getJsonOrError)}},{key:"addCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link})}).then(this._getJsonOrError)}},{key:"changeProfile",value:function(e){return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.about})}).then(this._getJsonOrError)}},{key:"changeAvatar",value:function(e){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.avatar})}).then(this._getJsonOrError)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._getJsonOrError)}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._cardObj=t,this._name=t.name,this._link=t.link,this._id=t.id,this._cardSelector=n,this._openImage=r,this._deleteCard=o}var t,r;return t=e,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".element").cloneNode(!0)}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._imageElement=this._element.querySelector(".element__image"),this._setEventListeners(),this._imageElement.src=this._link,this._imageElement.alt=this._name,this._element.querySelector(".element__city").textContent=this._name,this._element}},{key:"_setEventListeners",value:function(){var e=this;this._element.querySelector(".element__like").addEventListener("click",(function(){e._handleLikeClick()})),this._element.querySelector(".element__delete").addEventListener("click",(function(){e._deleteCard(e._id)})),this._element.querySelector(".element__image").addEventListener("click",(function(){e._openImage(e._name,e._link)}))}},{key:"_handleLikeClick",value:function(){this._element.querySelector(".element__like").classList.toggle("element__like_active")}},{key:"delete",value:function(){this._element.remove(),this._element=null}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._formElement=t,this._dataElement=n,this._inputList=Array.from(t.querySelectorAll(this._dataElement.inputSelector)),this._buttonElement=this._formElement.querySelector(this._dataElement.submitButtonSelector)}var t,n;return t=e,(n=[{key:"_showInputError",value:function(e,t){var n=this._formElement.querySelector("#".concat(e.id,"-error"));e.classList.add(this._dataElement.inputErrorClass),n.textContent=t,n.classList.add(this._dataElement.errorClass)}},{key:"_hideInputError",value:function(e){var t=this._formElement.querySelector("#".concat(e.id,"-error"));e.classList.remove(this._dataElement.inputErrorClass),t.textContent="",t.classList.remove(this._dataElement.errorClass)}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"_validateInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._validateInput()?(this._buttonElement.classList.add(this._dataElement.inactiveButtonClass),this._buttonElement.disabled=!0):(this._buttonElement.classList.remove(this._dataElement.inactiveButtonClass),this._buttonElement.disabled=!1)}},{key:"_setEventListeners",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState()}))}))}},{key:"resetValidation",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){e._hideInputError(t)}))}},{key:"disabledButton",value:function(){this._buttonElement.classList.add(this._dataElement.inactiveButtonClass),this._buttonElement.disabled=!0}},{key:"enableValidation",value:function(){this._setEventListeners()}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._container=n}var t,n;return t=e,(n=[{key:"addItem",value:function(e){this._container.prepend(e)}},{key:"renderItem",value:function(e){var t=this;e.forEach((function(e){t._renderer(e)}))}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=t,this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("mousedown",(function(t){(t.target.classList.contains("popup_opened")||t.target.classList.contains("popup__button-close"))&&e.close()}))}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=y(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},p.apply(this,arguments)}function y(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function h(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_(r);if(o){var n=_(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return h(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._name=t._popup.querySelector(".popup__caption"),t._link=t._popup.querySelector(".popup__image-src"),t}return t=a,(n=[{key:"open",value:function(e,t){this._link.src=t,this._link.alt=e,this._name.textContent=e,p(_(a.prototype),"open",this).call(this)}}])&&f(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(l);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(){return g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=E(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},g.apply(this,arguments)}function E(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=S(e)););return e}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function O(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=S(r);if(o){var n=S(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return O(this,e)});function a(e,t){var n,r=t.submitForm;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._submitForm=r,n._form=n._popup.querySelector(".popup__form"),n._inputs=n._form.querySelectorAll(".popup__input"),n._submitButton=n._popup.querySelector(".popup__button"),n._submitButtonContent=n._submitButton.textContent,n}return t=a,(n=[{key:"_getInputValues",value:function(){var e={};return this._inputs.forEach((function(t){e[t.name]=t.value})),e}},{key:"setInputValues",value:function(e){this._inputs.forEach((function(t){t.value=e[t.id],console.log(t)}))}},{key:"setEventListeners",value:function(){var e=this;g(S(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._submitForm(e._getInputValues()),e.close()}))}},{key:"renderLoadingView",value:function(e,t){var n=this;e?(this._submitButton.disabled=!0,this._submitButton.textContent=t):setTimeout((function(){n._submitButton.disabled=!0,n._submitButton.textContent=n._submitButtonContent}),3e3)}},{key:"close",value:function(){g(S(a.prototype),"close",this).call(this),this._form.reset()}}])&&v(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(l);function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(){return P="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=L(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},P.apply(this,arguments)}function L(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=R(e)););return e}function q(e,t){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},q(e,t)}function I(e,t){if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=R(r);if(o){var n=R(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return I(this,e)});function a(e,t){var n,r=t.submitForm;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._form=n._popup.querySelector(".popup__form"),n._submitForm=r,n}return t=a,(n=[{key:"open",value:function(e){P(R(a.prototype),"open",this).call(this),this._card=e}},{key:"setEventListeners",value:function(){var e=this;P(R(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._submitForm(e._card)}))}}])&&C(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(l);function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var V=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(t.nameSelector),this._about=document.querySelector(t.aboutSelector),this._avatar=document.querySelector(t.avatarSelector)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,about:this._about.textContent,avatar:this._avatar.src}}},{key:"setUserInfo",value:function(e){this._name.textContent=e.name,this._about.textContent=e.about,this._avatar.src=e.avatar}}])&&T(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),x=(document.querySelectorAll(".popup"),document.querySelector(".popup_profile")),U=document.querySelector(".popup_new-card"),A=document.querySelector(".popup_image"),F=document.querySelector(".popup_avatar"),J=document.querySelector(".popup_accept"),D=document.querySelector(".profile__button-edit"),N=document.querySelector(".profile__button-edd"),H=document.querySelector(".profile__avatar"),M=document.querySelector(".elements"),z=document.querySelector(".popup__form"),$=document.querySelector(".popup__form_new-card"),G=document.querySelector(".popup__form_avatar"),K={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error-visible"};function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var W=new t({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-47",headers:{authorization:"57fe7532-adaf-4e02-b40f-30da1bce78cd","Content-Type":"application/json"}}),X=function(e,t){Y.open(e,t)},Y=new m(A);Y.setEventListeners();var Z=function(e){return new r(e,"#element-template",X,ae).generateCard()},ee=new u({renderer:function(e){var t=Z(e);ee.addItem(t)}},M),te=new k(U,{submitForm:function(e){te.renderLoadingView(!0,"Сохранение..."),W.addCard(e).then((function(e){ee.addItem(Z(e)),addCardPopup.close()})).catch((function(e){console.log("Ошибка: ".concat(e))})).finally((function(){te.renderLoadingView(!1)}))}});te.setEventListeners(),N.addEventListener("click",(function(){te.open(),ce.resetValidation()}));var ne=new k(x,{submitForm:function(e){ne.renderLoadingView(!0,"Сохранение..."),W.changeProfile(e).then((function(e){re.setUserInfo(e),ne.close()})).catch((function(e){return console.log(e)})).finally((function(){ne.renderLoadingView(!1)}))}});ne.setEventListeners();var re=new V({nameSelector:".profile__user-name",aboutSelector:".profile__user-about",avatarSelector:".profile__avatar-img"});D.addEventListener("click",(function(){var e=re.getUserInfo();ne.setInputValues(e),ne.open(),ue.resetValidation(),ue.disabledButton()}));var oe=new k(F,{submitForm:function(e){oe.renderLoadingView(!0,"Сохранение..."),W.changeAvatar(e).then((function(e){re.setUserInfo(e),oe.close()})).catch((function(e){return console.log(e)})).finally((function(){oe.renderLoadingView(!1)}))}});oe.setEventListeners(),H.addEventListener("click",(function(){oe.open(),le.resetValidation()}));var ie=new B(J,{submitForm:ae});function ae(e){W.deleteCard(e.id).then((function(){ie.close(),e.delete()})).catch((function(e){return console.log(e)}))}ie.setEventListeners(),Promise.all([W.getUserInfo(),W.getInitialCards()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];re.setUserInfo(o),ee.renderItem(i.reverse())})).catch((function(e){return console.log(e)}));var ue=new i(z,K),ce=new i($,K),le=new i(G,K);ue.enableValidation(),ce.enableValidation(),le.enableValidation()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFZdkosR0FDeEJ3SSxHQUFTNkIsV0FBV0QsRUFBTUUsVUFDM0IsSUFDQXZCLE9BQU0sU0FBQ0MsR0FBRCxPQUFTOUMsUUFBUUMsSUFBSTZDLEVBQXJCLElBR1QsSUFBTVcsR0FBcUIsSUFBSXJILEVBQWNzRixFQUFpQnBGLEdBQ3hEMEcsR0FBb0IsSUFBSTVHLEVBQWN1RixFQUFpQnJGLEdBQ3ZEdUgsR0FBdUIsSUFBSXpILEVBQWN3RixFQUFtQnRGLEdBQ2xFbUgsR0FBbUJZLG1CQUNuQnJCLEdBQWtCcUIsbUJBQ2xCUixHQUFxQlEsa0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoQWNjZXB0LmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKHsgYmFzZVVybCwgaGVhZGVycyB9KSB7XG4gICAgdGhpcy5fYmFzZVVybCA9IGJhc2VVcmw7XG4gICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XG4gIH1cblxuICAvLyDQn9GA0LjQstCw0YLQvdGL0Lkg0LzQtdGC0L7QtCDQvtCx0YDQsNCx0L7RgtC60Lgg0L7RgtCy0LXRgtCwXG4gIF9nZXRKc29uT3JFcnJvcihyZXMpIHtcbiAgICBpZiAocmVzLm9rKSB7XG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICB9XG4gICAgLy8g0JXRgdC70Lgg0L7RiNC40LHQutCwLCDQvtGC0LrQu9C+0L3Rj9C10Lwg0L/RgNC+0LzQuNGBXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTtcbiAgfVxuXG4gIC8vINCf0L7Qu9GD0YfQtdC90LjQtSDQtNCw0L3QvdGL0YUg0L/RgNC+0YTQuNC70Y8g0YEg0YHQtdGA0LLQtdGA0LBcbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX2dldEpzb25PckVycm9yKTtcbiAgfVxuXG4gIC8vINCf0L7Qu9GD0YfQtdC90LjQtSDQutCw0YDRgtC+0YfQtdC6INGBINGB0LXRgNCy0LXRgNCwXG4gIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5fZ2V0SnNvbk9yRXJyb3IpO1xuICB9XG5cbiAgLy8g0J7RgtC/0YDQsNCy0LrQsCDQvdCwINGB0LXRgNCy0LXRgCDQvdC+0LLQvtC5INC60LDRgNGC0L7Rh9C60LhcbiAgYWRkQ2FyZChkYXRhKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWU6IGRhdGEubmFtZSxcbiAgICAgICAgbGluazogZGF0YS5saW5rLFxuICAgICAgfSksXG4gICAgfSkudGhlbih0aGlzLl9nZXRKc29uT3JFcnJvcik7XG4gIH1cblxuICAvLyDQntCx0L3QvtCy0LvQtdC90LjQtSDQtNCw0L3QvdGL0YUg0L/RgNC+0YTQuNC70Y8g0L3QsCDRgdC10YDQstC10YDQtVxuICBjaGFuZ2VQcm9maWxlKGRhdGEpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWU6IGRhdGEubmFtZSxcbiAgICAgICAgYWJvdXQ6IGRhdGEuYWJvdXQsXG4gICAgICB9KSxcbiAgICB9KS50aGVuKHRoaXMuX2dldEpzb25PckVycm9yKTtcbiAgfVxuXG4gIC8vINCe0LHQvdC+0LLQu9C10L3QuNC1INCw0LLQsNGC0LDRgNCwINC90LAg0YHQtdGA0LLQtdGA0LVcbiAgY2hhbmdlQXZhdGFyKGRhdGEpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBhdmF0YXI6IGRhdGEuYXZhdGFyLFxuICAgICAgfSksXG4gICAgfSkudGhlbih0aGlzLl9nZXRKc29uT3JFcnJvcik7XG4gIH1cblxuICAvLyDQo9C00LDQu9C10L3QuNC1INC60LDRgNGC0L7Rh9C60Lgg0L3QsCDRgdC10YDQstC10YDQtVxuICBkZWxldGVDYXJkKGlkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7aWR9YCwge1xuICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9nZXRKc29uT3JFcnJvcik7XG59XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoY2FyZE9iaiwgY2FyZFNlbGVjdG9yLCBvcGVuSW1hZ2UsIGRlbGV0ZUNhcmQpIHtcbiAgICAvLyDQv9C10YDQtdC00LDQtdC8INC60L7QvdGB0YLRgNGD0LrRgtC+0YDRgyDQv9Cw0YDQsNC80LXRgtGA0YtcbiAgICB0aGlzLl9jYXJkT2JqID0gY2FyZE9iajtcbiAgICB0aGlzLl9uYW1lID0gY2FyZE9iai5uYW1lO1xuICAgIHRoaXMuX2xpbmsgPSBjYXJkT2JqLmxpbms7XG4gICAgdGhpcy5faWQgPSBjYXJkT2JqLmlkO1xuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgICB0aGlzLl9vcGVuSW1hZ2UgPSBvcGVuSW1hZ2U7XG4gICAgdGhpcy5fZGVsZXRlQ2FyZCA9IGRlbGV0ZUNhcmQ7XG4gIH1cblxuICAvLyDQt9Cw0LHQuNGA0LDQtdC8INGA0LDQt9C80LXRgtC60YMg0LrQsNGA0YLQvtGH0LrQuCDQuNC3IEhUTUwsINC60LvQvtC90LjRgNGD0LXQvCDRjdC70LXQvNC10L3RgiDQuCDQstC+0LfQstGA0LDRidCw0LXQvCDRjdC70LXQvNC10L3RgiDQutCw0YDRgtC+0YfQutC4XG4gIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICBjb25zdCBjYXJkVGVtcGxhdGUgPSBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50XCIpXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgcmV0dXJuIGNhcmRUZW1wbGF0ZTtcbiAgfVxuXG4gIC8vINC30LDQsdC40YDQsNC10LwgbmFtZSDQuCBsaW5rINC40Lcg0LzQsNGB0YHQuNCy0LAg0Lgg0LPQvtGC0L7QstC40Lwg0LrQsNGA0YLQvtGH0LrRgyDQuiDQv9GD0LHQu9C40LrQsNGG0LjQuFxuICBnZW5lcmF0ZUNhcmQoKSB7XG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XG4gICAgdGhpcy5faW1hZ2VFbGVtZW50ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2ltYWdlXCIpO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7IC8vINC00L7QsdCw0LLQu9GP0LXQvCDQvtCx0YDQsNCx0L7RgtGH0LjQutC4XG5cbiAgICB0aGlzLl9pbWFnZUVsZW1lbnQuc3JjID0gdGhpcy5fbGluaztcbiAgICB0aGlzLl9pbWFnZUVsZW1lbnQuYWx0ID0gdGhpcy5fbmFtZTtcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fY2l0eVwiKS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG5cbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgfVxuXG4gIC8vINC80LXRgtC+0LQg0LTQu9GPINGD0YHRgtCw0L3QvtCy0LrQuCDRgdC70YPRiNCw0YLQtdC70LXQuSDRgdC+0LHRi9GC0LjQuVxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fZWxlbWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fbGlrZVwiKVxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljaygpO1xuICAgICAgfSk7XG5cbiAgICB0aGlzLl9lbGVtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19kZWxldGVcIilcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9kZWxldGVDYXJkKHRoaXMuX2lkKTtcbiAgICAgIH0pO1xuXG4gICAgdGhpcy5fZWxlbWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9faW1hZ2VcIilcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9vcGVuSW1hZ2UodGhpcy5fbmFtZSwgdGhpcy5fbGluayk7XG4gICAgICB9KTtcbiAgfVxuXG4gIC8vINC80LXRgtC+0LQg0LTQu9GPINC40LfQvNC10L3QtdC90LjRjyDQutC70LDRgdGB0LAg0LvQsNC50LrQsFxuICBfaGFuZGxlTGlrZUNsaWNrKCkge1xuICAgIHRoaXMuX2VsZW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2xpa2VcIilcbiAgICAgIC5jbGFzc0xpc3QudG9nZ2xlKFwiZWxlbWVudF9fbGlrZV9hY3RpdmVcIik7XG4gIH1cblxuICAvLyDQvNC10YLQvtC0INC00LvRjyDRg9C00LDQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LhcbiAgZGVsZXRlKCkge1xuICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XG4gICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XG4gIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoZm9ybUVsZW1lbnQsIGRhdGFFbGVtZW50KSB7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcbiAgICB0aGlzLl9kYXRhRWxlbWVudCA9IGRhdGFFbGVtZW50O1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20oXG4gICAgICBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2RhdGFFbGVtZW50LmlucHV0U2VsZWN0b3IpXG4gICAgKTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIHRoaXMuX2RhdGFFbGVtZW50LnN1Ym1pdEJ1dHRvblNlbGVjdG9yXG4gICAgKTtcbiAgfVxuXG4gIC8vINC80LXRgtC+0LQg0LTQu9GPINC+0YLQvtCx0YDQsNC20LXQvdC40Y8g0L7RiNC40LHQutC4INCy0LLQvtC00LBcbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlKSB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxuICAgICk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZGF0YUVsZW1lbnQuaW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZGF0YUVsZW1lbnQuZXJyb3JDbGFzcyk7XG4gIH1cblxuICAvLyDQvNC10YLQvtC0INC00LvRjyDRgdC60YDRi9GC0LjRjyDQvtGI0LjQsdC60Lgg0LLQstC+0LTQsFxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxuICAgICk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZGF0YUVsZW1lbnQuaW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2RhdGFFbGVtZW50LmVycm9yQ2xhc3MpO1xuICB9XG5cbiAgLy8g0LzQtdGC0L7QtCDQtNC70Y8g0L/RgNC+0LLQtdGA0LrQuCDQstCw0LvQuNC00L3QvtGB0YLRjCDQstCy0L7QtNCwXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICAvLyDQtNC+0LHQsNCy0LvQtdC90LjQtSDQvtCx0YDQsNCx0L7RgtGH0LjQutC+0LIg0YHQvtCx0YvRgtC40Lkg0Log0L/QvtC70Y/QvCDRhNC+0YDQvNGLXG4gIF92YWxpZGF0ZUlucHV0KCkge1xuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICAvLyDQldGB0LvQuCDQv9C+0LvQtSDQvdC1INCy0LDQu9C40LTQvdC+LCDQutC+0LvQsdGN0Log0LLQtdGA0L3RkdGCIHRydWUsINC+0LHRhdC+0LQg0LzQsNGB0YHQuNCy0LAg0L/RgNC10LrRgNCw0YLQuNGC0YHRjyDQuCDQvNC10YLQvtC0IHZhbGlkYXRlSW5wdXQg0LLQtdGA0L3RkdGCIHRydWVcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xuICAgIH0pO1xuICB9XG5cbiAgLy8g0LzQtdGC0L7QtCDQv9C10YDQtdC60LvRjtGH0LXQvdC40Y8g0YHQvtGB0YLQvtGP0L3QuNGPINC60L3QvtC/0LrQuFxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgLy8g0JXRgdC70Lgg0LXRgdGC0Ywg0YXQvtGC0Y8g0LHRiyDQvtC00LjQvSDQvdC10LLQsNC70LjQtNC90YvQuSDQuNC90L/Rg9GCXG4gICAgaWYgKHRoaXMuX3ZhbGlkYXRlSW5wdXQoKSkge1xuICAgICAgLy8g0YHQtNC10LvQsNC5INC60L3QvtC/0LrRgyDQvdC10LDQutGC0LjQstC90L7QuVxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2RhdGFFbGVtZW50LmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vINC40L3QsNGH0LUg0YHQtNC10LvQsNC5INC60L3QvtC/0LrRgyDQsNC60YLQuNCy0L3QvtC5XG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZGF0YUVsZW1lbnQuaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLy8g0LzQtdGC0L7QtCDQv9GA0LjQvdC40LzQsNC10YIg0L/QsNGA0LDQvNC10YLRgNC+0Lwg0Y3Qu9C10LzQtdC90YIg0YTQvtGA0LzRiyDQuCDQtNC+0LHQsNCy0LvRj9C10YIg0L/QvtC70Y/QvCDQvdGD0LbQvdGL0LUg0L7QsdGA0LDQsdC+0YLRh9C40LrQuFxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgLy8gLy8g0J/RgNC+0LLQtdGA0LrQsCDRgdC+0YHRgtC+0Y/QvdC40Y8g0LrQvdC+0L/QutC4INCyINGB0LDQvNC+0Lwg0L3QsNGH0LDQu9C1XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcblxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgICAvLyDQstGL0LfRi9Cy0LDQtdC8INC80LXRgtC+0Lsg0L/RgNC+0LLQtdGA0LrQuCDQstCw0LvQuNC00L3QvtGB0YLQuCDQstCy0L7QtNCwLCDQv9C10YDQtdC00LDQstCw0Y8g0YTQvtGA0LzRgyDQuCDQv9GA0L7QstC10YDRj9C10LzRi9C5INGN0LvQtdC80LXQvdGCXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xuICAgICAgICAvLyDQn9GA0L7QstC10YDQutCwINGB0L7RgdGC0L7Rj9C90LjRjyDQutC90L7Qv9C60Lgg0L/RgNC4INC40LfQvNC10L3QtdC90LjQuCDQu9GO0LHQvtCz0L4g0LjQtyDQv9C+0LvQtdC5XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vINC80LXRgtC+0LQg0L7Rh9C40YnQsNC10YIg0L7RiNC40LHQutC4INC4INCx0LvQvtC60LjRgNGD0LXRgiDQutC90L7Qv9C60YNcbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG5cbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9KVxuICB9XG5cbiAgZGlzYWJsZWRCdXR0b24oKSB7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2RhdGFFbGVtZW50LmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fY29udGFpbmVyID0gY29udGFpbmVyU2VsZWN0b3I7XG4gIH1cblxuICBhZGRJdGVtKGl0ZW0pIHtcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChpdGVtKTtcbiAgfVxuXG4gIHJlbmRlckl0ZW0oaXRlbXMpIHtcbiAgICBpdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHRoaXMuX3BvcHVwID0gcG9wdXBTZWxlY3RvcjtcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XG4gIH1cblxuICBvcGVuKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9vcGVuZWRcIik7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBfaGFuZGxlRXNjQ2xvc2UoZSkge1xuICAgIGlmIChlLmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIChlKSA9PiB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cF9vcGVuZWRcIikgfHxcbiAgICAgICAgICBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cF9fYnV0dG9uLWNsb3NlXCIpXG4gICAgICAgICkge1xuICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX25hbWUgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jYXB0aW9uXCIpO1xuICAgIHRoaXMuX2xpbmsgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWFnZS1zcmNcIik7XG4gIH1cblxuICBvcGVuKG5hbWUsIGxpbmspIHtcbiAgICB0aGlzLl9saW5rLnNyYyA9IGxpbms7XG4gICAgdGhpcy5fbGluay5hbHQgPSBuYW1lO1xuICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIHsgc3VibWl0Rm9ybSB9KSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fc3VibWl0Rm9ybSA9IHN1Ym1pdEZvcm07XG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XG4gICAgdGhpcy5faW5wdXRzID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19pbnB1dFwiKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19idXR0b25cIik7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uQ29udGVudCA9IHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudDtcbiAgfVxuXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICBjb25zdCB2YWx1ZXMgPSB7fTtcbiAgICB0aGlzLl9pbnB1dHMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgdmFsdWVzW2VsZW1lbnQubmFtZV0gPSBlbGVtZW50LnZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiB2YWx1ZXM7XG4gIH1cblxuICBzZXRJbnB1dFZhbHVlcyhkYXRhKSB7XG4gICAgdGhpcy5faW5wdXRzLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIGl0ZW0udmFsdWUgPSBkYXRhW2l0ZW0uaWRdO1xuICAgICAgY29uc29sZS5sb2coaXRlbSk7XG4gICAgfSk7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5fc3VibWl0Rm9ybSh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vINCS0LjQt9GD0LDQu9C40LfQsNGG0LjRjyDQuNC90LTQuNC60LDRgtC+0YDQsCDRgdC+0YXRgNCw0L3QtdC90LjRjyDRhNC+0YDQvNGLIChVWClcbiAgcmVuZGVyTG9hZGluZ1ZpZXcobG9hZGluZywgdGV4dCkge1xuICAgIGlmIChsb2FkaW5nKSB7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gdGV4dDtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IHRoaXMuX3N1Ym1pdEJ1dHRvbkNvbnRlbnQ7XG4gICAgICB9LCAzMDAwKTtcbiAgICB9XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICBzdXBlci5jbG9zZSgpO1xuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEFjY2VwdCBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgeyBzdWJtaXRGb3JtIH0pIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcbiAgICB0aGlzLl9zdWJtaXRGb3JtID0gc3VibWl0Rm9ybTtcbiAgfVxuICBcbiAgb3BlbihjYXJkKSB7XG4gICAgc3VwZXIub3BlbigpO1xuICAgIHRoaXMuX2NhcmQgPSBjYXJkO1xufVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5fc3VibWl0Rm9ybSh0aGlzLl9jYXJkKTtcbiAgICB9KTtcbn1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3IoZGF0YSkge1xuICAgIHRoaXMuX25hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGRhdGEubmFtZVNlbGVjdG9yKTtcbiAgICB0aGlzLl9hYm91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZGF0YS5hYm91dFNlbGVjdG9yKTtcbiAgICB0aGlzLl9hdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGRhdGEuYXZhdGFyU2VsZWN0b3IpO1xuICB9XG5cbiAgLy8g0J/QvtC70YPRh9C10L3QuNC1INC40L3RhNC+0YDQvNCw0YbQuNC4INC+INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtVxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogdGhpcy5fbmFtZS50ZXh0Q29udGVudCxcbiAgICAgIGFib3V0OiB0aGlzLl9hYm91dC50ZXh0Q29udGVudCxcbiAgICAgIGF2YXRhcjogdGhpcy5fYXZhdGFyLnNyYyxcbiAgICB9O1xuICB9XG5cbiAgLy8g0JjQt9C80LXQvdC10L3QuNC1INC40L3RhNC+0YDQvNCw0YbQuNC4INC+INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtVxuICBzZXRVc2VySW5mbyhkYXRhKSB7XG4gICAgdGhpcy5fbmFtZS50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9hYm91dC50ZXh0Q29udGVudCA9IGRhdGEuYWJvdXQ7XG4gICAgdGhpcy5fYXZhdGFyLnNyYyA9IGRhdGEuYXZhdGFyO1xuICB9XG59XG4iLCJleHBvcnQgY29uc3QgcG9wdXBzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cFwiKTtcbmV4cG9ydCBjb25zdCBwb3B1cFVzZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3Byb2ZpbGVcIik7XG5leHBvcnQgY29uc3QgcG9wdXBDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9uZXctY2FyZFwiKTtcbmV4cG9ydCBjb25zdCBwb3B1cEltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9pbWFnZVwiKTtcbmV4cG9ydCBjb25zdCBwb3B1cEF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfYXZhdGFyXCIpO1xuZXhwb3J0IGNvbnN0IHBvcHVwQWNjZXB0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9hY2NlcHRcIik7XG5leHBvcnQgY29uc3QgcHJvZmlsZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYnV0dG9uLWVkaXRcIik7XG5leHBvcnQgY29uc3Qg0YFhcmRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2J1dHRvbi1lZGRcIik7XG5leHBvcnQgY29uc3QgYXZhdGFyQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hdmF0YXJcIik7XG5leHBvcnQgY29uc3QgY2FyZExpc3RTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNcIik7XG5leHBvcnQgY29uc3QgZm9ybUVsZW1lbnRVc2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcbmV4cG9ydCBjb25zdCBmb3JtRWxlbWVudENhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtX25ldy1jYXJkXCIpO1xuZXhwb3J0IGNvbnN0IGZvcm1FbGVtZW50QXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybV9hdmF0YXJcIik7XG5cbmV4cG9ydCBjb25zdCBkYXRhRWxlbWVudCA9IHtcbiAgZm9ybVNlbGVjdG9yOiBcIi5wb3B1cF9fZm9ybVwiLFxuICBpbnB1dFNlbGVjdG9yOiBcIi5wb3B1cF9faW5wdXRcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19idXR0b25cIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJwb3B1cF9fYnV0dG9uX2Rpc2FibGVkXCIsXG4gIGlucHV0RXJyb3JDbGFzczogXCJwb3B1cF9faW5wdXRfdHlwZV9lcnJvclwiLFxuICBlcnJvckNsYXNzOiBcInBvcHVwX19lcnJvci12aXNpYmxlXCIsXG59OyIsImltcG9ydCBcIi4vLi4vcGFnZXMvaW5kZXguY3NzXCI7XG5pbXBvcnQgQXBpIGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiO1xuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoQWNjZXB0IGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEFjY2VwdC5qc1wiO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XG5pbXBvcnQge1xuICBwb3B1cFVzZXIsXG4gIHBvcHVwQ2FyZCxcbiAgcG9wdXBJbWFnZSxcbiAgcG9wdXBBdmF0YXIsXG4gIHBvcHVwQWNjZXB0LFxuICBwcm9maWxlQnV0dG9uLFxuICDRgWFyZEJ1dHRvbixcbiAgYXZhdGFyQnV0dG9uLFxuICBjYXJkTGlzdFNlbGVjdG9yLFxuICBmb3JtRWxlbWVudFVzZXIsXG4gIGZvcm1FbGVtZW50Q2FyZCxcbiAgZm9ybUVsZW1lbnRBdmF0YXIsXG4gIGRhdGFFbGVtZW50LFxufSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5cbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICBiYXNlVXJsOiBcImh0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNDdcIixcbiAgaGVhZGVyczoge1xuICAgIGF1dGhvcml6YXRpb246IFwiNTdmZTc1MzItYWRhZi00ZTAyLWI0MGYtMzBkYTFiY2U3OGNkXCIsXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gIH0sXG59KTtcblxuY29uc3Qgb3BlbkltYWdlID0gKG5hbWUsIGxpbmspID0+IHtcbiAgaW1hZ2VQb3B1cC5vcGVuKG5hbWUsIGxpbmspO1xufTtcblxuY29uc3QgaW1hZ2VQb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZShwb3B1cEltYWdlKTtcbmltYWdlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgY3JlYXRlQ2FyZCA9IChjYXJkT2JqKSA9PiB7XG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChjYXJkT2JqLCBcIiNlbGVtZW50LXRlbXBsYXRlXCIsIG9wZW5JbWFnZSwgZGVsZXRlTXlDYXJkKTtcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xuICByZXR1cm4gY2FyZEVsZW1lbnQ7XG59O1xuXG5jb25zdCBjYXJkTGlzdCA9IG5ldyBTZWN0aW9uKFxuICB7XG4gICAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XG4gICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNyZWF0ZUNhcmQoaXRlbSk7XG4gICAgICBjYXJkTGlzdC5hZGRJdGVtKGNhcmRFbGVtZW50KTtcbiAgICB9LFxuICB9LFxuICBjYXJkTGlzdFNlbGVjdG9yXG4pO1xuXG4vLyDQn9C+0L/QsNC/INC00L7QsdCw0LLQu9C10L3QuNGPINC90L7QstC+0LPQviDQvNC10YHRgtCwXG5jb25zdCBuZXdDYXJkUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShwb3B1cENhcmQsIHtcbiAgc3VibWl0Rm9ybTogaGFuZGxlckNhcmRTdWJtaXQsXG59KTtcbm5ld0NhcmRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vLyDQntGC0LrRgNGL0YLQuNC1INC/0L7Qv9Cw0L/QsCDQtNC+0LHQsNCy0LvQtdC90LjRjyDQvdC+0LLQvtCz0L4g0LzQtdGB0YLQsFxu0YFhcmRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgbmV3Q2FyZFBvcHVwLm9wZW4oKTtcbiAgYWRkRm9ybVZhbGlkYXRpb24ucmVzZXRWYWxpZGF0aW9uKCk7XG59KTtcblxuLy8g0J7RgtC/0YDQsNCy0LrQsCDQtNCw0L3QvdGL0YUg0YTQvtGA0LzRiyDQtNC+0LHQsNCy0LvQtdC90LjRjyDQvdC+0LLQvtCz0L4g0LzQtdGB0YLQsFxuZnVuY3Rpb24gaGFuZGxlckNhcmRTdWJtaXQoZGF0YSkge1xuICBuZXdDYXJkUG9wdXAucmVuZGVyTG9hZGluZ1ZpZXcodHJ1ZSwgXCLQodC+0YXRgNCw0L3QtdC90LjQtS4uLlwiKTtcbiAgYXBpXG4gICAgLmFkZENhcmQoZGF0YSlcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICBjYXJkTGlzdC5hZGRJdGVtKGNyZWF0ZUNhcmQocmVzKSk7XG4gICAgICBhZGRDYXJkUG9wdXAuY2xvc2UoKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhg0J7RiNC40LHQutCwOiAke2Vycn1gKTtcbiAgICB9KVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIG5ld0NhcmRQb3B1cC5yZW5kZXJMb2FkaW5nVmlldyhmYWxzZSk7XG4gICAgfSk7XG59XG5cbi8vINCf0L7Qv9Cw0L8g0LjQt9C80LXQvdC10L3QuNGPINC/0YDQvtGE0LjQu9GPXG5jb25zdCBwcm9maWxlUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShwb3B1cFVzZXIsIHtcbiAgc3VibWl0Rm9ybTogaGFuZGxlclByb2ZpbGVTdWJtaXQsXG59KTtcbnByb2ZpbGVQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBwcm9maWxlSW5mbyA9IG5ldyBVc2VySW5mbyh7XG4gIG5hbWVTZWxlY3RvcjogXCIucHJvZmlsZV9fdXNlci1uYW1lXCIsXG4gIGFib3V0U2VsZWN0b3I6IFwiLnByb2ZpbGVfX3VzZXItYWJvdXRcIixcbiAgYXZhdGFyU2VsZWN0b3I6IFwiLnByb2ZpbGVfX2F2YXRhci1pbWdcIixcbn0pO1xuXG4vLyDQntGC0L/RgNCw0LLQutCwINC00LDQvdC90YvRhSDRhNC+0YDQvNGLINC40LfQvNC10L3QtdC90LjRjyDQv9GA0L7RhNC40LvRj1xuZnVuY3Rpb24gaGFuZGxlclByb2ZpbGVTdWJtaXQoZGF0YSkge1xuICBwcm9maWxlUG9wdXAucmVuZGVyTG9hZGluZ1ZpZXcodHJ1ZSwgXCLQodC+0YXRgNCw0L3QtdC90LjQtS4uLlwiKTtcbiAgYXBpXG4gICAgLmNoYW5nZVByb2ZpbGUoZGF0YSlcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICBwcm9maWxlSW5mby5zZXRVc2VySW5mbyhyZXMpO1xuICAgICAgcHJvZmlsZVBvcHVwLmNsb3NlKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBwcm9maWxlUG9wdXAucmVuZGVyTG9hZGluZ1ZpZXcoZmFsc2UpO1xuICAgIH0pO1xufVxuXG4vLyDQntGC0LrRgNGL0YLQuNC1INC/0L7Qv9Cw0L/QsCDQuNC30LzQtdC90LXQvdC40Y8g0L/RgNC+0YTQuNC70Y9cbnByb2ZpbGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgY29uc3QgaW5mbyA9IHByb2ZpbGVJbmZvLmdldFVzZXJJbmZvKCk7XG4gIHByb2ZpbGVQb3B1cC5zZXRJbnB1dFZhbHVlcyhpbmZvKTtcbiAgcHJvZmlsZVBvcHVwLm9wZW4oKTtcbiAgdXNlckZvcm1WYWxpZGF0aW9uLnJlc2V0VmFsaWRhdGlvbigpO1xuICB1c2VyRm9ybVZhbGlkYXRpb24uZGlzYWJsZWRCdXR0b24oKTtcbn0pO1xuXG4vLyDQn9C+0L/QsNC/INC40LfQvNC10L3QtdC90LjRjyDQsNCy0LDRgtCw0YDQsFxuY29uc3QgYXZhdGFyUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShwb3B1cEF2YXRhciwge1xuICBzdWJtaXRGb3JtOiBoYW5kbGVyQXZhdGFyU3VibWl0LFxufSk7XG5hdmF0YXJQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vLyDQntGC0L/RgNCw0LLQutCwINC00LDQvdC90YvRhSDRhNC+0YDQvNGLINC40LfQvNC10L3QtdC90LjRjyDQsNCy0LDRgtCw0YDQsFxuZnVuY3Rpb24gaGFuZGxlckF2YXRhclN1Ym1pdChkYXRhKSB7XG4gIGF2YXRhclBvcHVwLnJlbmRlckxvYWRpbmdWaWV3KHRydWUsIFwi0KHQvtGF0YDQsNC90LXQvdC40LUuLi5cIik7XG4gIGFwaVxuICAgIC5jaGFuZ2VBdmF0YXIoZGF0YSlcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICBwcm9maWxlSW5mby5zZXRVc2VySW5mbyhyZXMpO1xuICAgICAgYXZhdGFyUG9wdXAuY2xvc2UoKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIGF2YXRhclBvcHVwLnJlbmRlckxvYWRpbmdWaWV3KGZhbHNlKTtcbiAgICB9KTtcbn1cblxuLy8g0J7RgtC60YDRi9GC0LjQtSDQv9C+0L/QsNC/0LAg0LjQt9C80LXQvdC10L3QuNGPINCw0LLQsNGC0LDRgNCwXG5hdmF0YXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgYXZhdGFyUG9wdXAub3BlbigpO1xuICBhdmF0YXJGb3JtVmFsaWRhdGlvbi5yZXNldFZhbGlkYXRpb24oKTtcbn0pO1xuXG4vLyDQn9C+0L/QsNC/INC/0L7QtNGC0LLQtdGA0LbQtNC10L3QuNGPINGD0LTQsNC70LXQvdC40Y8g0LzQvtC10Lkg0LrQsNGA0YLQvtGH0LrQuFxuY29uc3QgYWNjZXB0UG9wdXAgPSBuZXcgUG9wdXBXaXRoQWNjZXB0KHBvcHVwQWNjZXB0LCB7XG4gIHN1Ym1pdEZvcm06IGRlbGV0ZU15Q2FyZCxcbn0pO1xuYWNjZXB0UG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuLy8g0KPQtNCw0LvQtdC90LjQtSDQutCw0YDRgtC+0YfQutC4INC90LAg0YHQtdGA0LLQtdGA0LVcbmZ1bmN0aW9uIGRlbGV0ZU15Q2FyZChjYXJkKSB7XG4gIGFwaVxuICAgIC5kZWxldGVDYXJkKGNhcmQuaWQpXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgYWNjZXB0UG9wdXAuY2xvc2UoKTtcbiAgICAgIGNhcmQuZGVsZXRlKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSlcbn1cblxuLy8g0KPQtNCw0LvQtdC90LjQtSDQvdC+0LLQvtCz0L4g0LzQtdGB0YLQsCAo0L/QvtGP0LLQu9C10L3QuNC1INC+0LrQvdCwINGBINC/0L7QtNGC0LLQtdGA0LbQtNC10L3QuNC10Lwg0Lgg0YPQtNCw0LvQtdC90LjQtSlcbmNvbnN0IGFjY2VwdERlbGV0ZUNhcmQgPSAoY2FyZCkgPT4ge1xuICBhY2NlcHRQb3B1cC5vcGVuKGNhcmQpO1xufTtcblxuUHJvbWlzZS5hbGwoW2FwaS5nZXRVc2VySW5mbygpLCBhcGkuZ2V0SW5pdGlhbENhcmRzKCldKVxuICAudGhlbigoW2RhdGEsIGNhcmRzXSkgPT4ge1xuICAgIHByb2ZpbGVJbmZvLnNldFVzZXJJbmZvKGRhdGEpO1xuICAgIGNhcmRMaXN0LnJlbmRlckl0ZW0oY2FyZHMucmV2ZXJzZSgpKTtcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xuXG4vLyDQktCw0LvQuNC00LDRhtC40Y8g0YTQvtGA0LxcbmNvbnN0IHVzZXJGb3JtVmFsaWRhdGlvbiA9IG5ldyBGb3JtVmFsaWRhdG9yKGZvcm1FbGVtZW50VXNlciwgZGF0YUVsZW1lbnQpO1xuY29uc3QgYWRkRm9ybVZhbGlkYXRpb24gPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtRWxlbWVudENhcmQsIGRhdGFFbGVtZW50KTtcbmNvbnN0IGF2YXRhckZvcm1WYWxpZGF0aW9uID0gbmV3IEZvcm1WYWxpZGF0b3IoZm9ybUVsZW1lbnRBdmF0YXIsIGRhdGFFbGVtZW50KTtcbnVzZXJGb3JtVmFsaWRhdGlvbi5lbmFibGVWYWxpZGF0aW9uKCk7XG5hZGRGb3JtVmFsaWRhdGlvbi5lbmFibGVWYWxpZGF0aW9uKCk7XG5hdmF0YXJGb3JtVmFsaWRhdGlvbi5lbmFibGVWYWxpZGF0aW9uKCk7XG4iXSwibmFtZXMiOlsiQXBpIiwiYmFzZVVybCIsImhlYWRlcnMiLCJ0aGlzIiwiX2Jhc2VVcmwiLCJfaGVhZGVycyIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJmZXRjaCIsInRoZW4iLCJfZ2V0SnNvbk9yRXJyb3IiLCJkYXRhIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJuYW1lIiwibGluayIsImFib3V0IiwiYXZhdGFyIiwiaWQiLCJDYXJkIiwiY2FyZE9iaiIsImNhcmRTZWxlY3RvciIsIm9wZW5JbWFnZSIsImRlbGV0ZUNhcmQiLCJfY2FyZE9iaiIsIl9uYW1lIiwiX2xpbmsiLCJfaWQiLCJfY2FyZFNlbGVjdG9yIiwiX29wZW5JbWFnZSIsIl9kZWxldGVDYXJkIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9lbGVtZW50IiwiX2dldFRlbXBsYXRlIiwiX2ltYWdlRWxlbWVudCIsIl9zZXRFdmVudExpc3RlbmVycyIsInNyYyIsImFsdCIsInRleHRDb250ZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9oYW5kbGVMaWtlQ2xpY2siLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJyZW1vdmUiLCJGb3JtVmFsaWRhdG9yIiwiZm9ybUVsZW1lbnQiLCJkYXRhRWxlbWVudCIsIl9mb3JtRWxlbWVudCIsIl9kYXRhRWxlbWVudCIsIl9pbnB1dExpc3QiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5wdXRTZWxlY3RvciIsIl9idXR0b25FbGVtZW50Iiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbnB1dEVsZW1lbnQiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckVsZW1lbnQiLCJhZGQiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwic29tZSIsIl92YWxpZGF0ZUlucHV0IiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImRpc2FibGVkIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiZm9yRWFjaCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJyZW5kZXJlciIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJpdGVtIiwicHJlcGVuZCIsIml0ZW1zIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwIiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJlIiwia2V5IiwiY2xvc2UiLCJ0YXJnZXQiLCJjb250YWlucyIsIlBvcHVwV2l0aEltYWdlIiwiUG9wdXBXaXRoRm9ybSIsInN1Ym1pdEZvcm0iLCJfc3VibWl0Rm9ybSIsIl9mb3JtIiwiX2lucHV0cyIsIl9zdWJtaXRCdXR0b24iLCJfc3VibWl0QnV0dG9uQ29udGVudCIsInZhbHVlcyIsImVsZW1lbnQiLCJ2YWx1ZSIsImNvbnNvbGUiLCJsb2ciLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRJbnB1dFZhbHVlcyIsImxvYWRpbmciLCJ0ZXh0Iiwic2V0VGltZW91dCIsInJlc2V0IiwiUG9wdXBXaXRoQWNjZXB0IiwiY2FyZCIsIl9jYXJkIiwiVXNlckluZm8iLCJuYW1lU2VsZWN0b3IiLCJfYWJvdXQiLCJhYm91dFNlbGVjdG9yIiwiX2F2YXRhciIsImF2YXRhclNlbGVjdG9yIiwicG9wdXBVc2VyIiwicG9wdXBDYXJkIiwicG9wdXBJbWFnZSIsInBvcHVwQXZhdGFyIiwicG9wdXBBY2NlcHQiLCJwcm9maWxlQnV0dG9uIiwi0YFhcmRCdXR0b24iLCJhdmF0YXJCdXR0b24iLCJjYXJkTGlzdFNlbGVjdG9yIiwiZm9ybUVsZW1lbnRVc2VyIiwiZm9ybUVsZW1lbnRDYXJkIiwiZm9ybUVsZW1lbnRBdmF0YXIiLCJmb3JtU2VsZWN0b3IiLCJhcGkiLCJhdXRob3JpemF0aW9uIiwiaW1hZ2VQb3B1cCIsIm9wZW4iLCJzZXRFdmVudExpc3RlbmVycyIsImNyZWF0ZUNhcmQiLCJkZWxldGVNeUNhcmQiLCJnZW5lcmF0ZUNhcmQiLCJjYXJkTGlzdCIsImNhcmRFbGVtZW50IiwiYWRkSXRlbSIsIm5ld0NhcmRQb3B1cCIsInJlbmRlckxvYWRpbmdWaWV3IiwiYWRkQ2FyZCIsImFkZENhcmRQb3B1cCIsImNhdGNoIiwiZXJyIiwiZmluYWxseSIsImFkZEZvcm1WYWxpZGF0aW9uIiwicmVzZXRWYWxpZGF0aW9uIiwicHJvZmlsZVBvcHVwIiwiY2hhbmdlUHJvZmlsZSIsInByb2ZpbGVJbmZvIiwic2V0VXNlckluZm8iLCJpbmZvIiwiZ2V0VXNlckluZm8iLCJzZXRJbnB1dFZhbHVlcyIsInVzZXJGb3JtVmFsaWRhdGlvbiIsImRpc2FibGVkQnV0dG9uIiwiYXZhdGFyUG9wdXAiLCJjaGFuZ2VBdmF0YXIiLCJhdmF0YXJGb3JtVmFsaWRhdGlvbiIsImFjY2VwdFBvcHVwIiwiZGVsZXRlIiwiYWxsIiwiZ2V0SW5pdGlhbENhcmRzIiwiY2FyZHMiLCJyZW5kZXJJdGVtIiwicmV2ZXJzZSIsImVuYWJsZVZhbGlkYXRpb24iXSwic291cmNlUm9vdCI6IiJ9